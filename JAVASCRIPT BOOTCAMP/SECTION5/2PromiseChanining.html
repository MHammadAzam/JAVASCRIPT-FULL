<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <script>
        // Promise chaining is making a chain of resolved values.
        let p1 = new Promise((resolve, reject)=>{
            setTimeout(()=>{
                console.log("Resolve after 2 seconds")
                resolve(56)
            }, 2000)
        })

        p1.then((value)=>{
             console.log(value);
             let p2 = new Promise((resolve, reject)=>{
                 setTimeout(()=>{ resolve("Promise 2")}, 2000)
              })
              return p2
        }).then((value)=>{
            console.log("Promise 2 resolved")
            return 2
        }).then((value)=>{
            console.log("Now its confirmed");
            
        })    


        // write loascript function using promises
        const loadscript = (src)=>{
            return new Promise((resolve, reject)=>{
             let script = document.createElement("Script")
             script.type = "text/javascript"
             script.src = src
             document.body.appendChild(script)

             script.onload = ()=>{
                console.log("Script loaded")
                resolve(1)
             }

             script.onerror = ()=>{
                reject(0)
             }
            })       
         }

         let p3 = loadscript("https://code.jquery.com/jquery-3.6.0.min.js")
         p3.then((value)=>{
              console.log(value);
              
         }).catch((error)=>{
            console.log("Error solved");
         })
    </script>
</body>
</html>